<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Bán Xôi Online</title>
  <style>
    body { font-family: Arial; }
    .product { border: 1px solid #ccc; padding: 10px; margin: 10px; }
    img { width: 150px; }
  </style>
</head>
<body>
  <h1>Menu Xôi</h1>
  <div id="product-list"></div>

  <script>
    const API_URL = "https://script.google.com/macros/s/AKfycbzBbOI7lBJefZMfe-C78b56Z0DTG_im7VKVVvqFms75gU5cPvKRjT2Rxbl6WR2CEgUZ0A/exec"; // URL doGet từ GAS

    fetch(API_URL)
      .then(res => res.json())
      .then(data => {
        const list = document.getElementById("product-list");
        data.forEach(p => {
          list.innerHTML += `
            <div class="product">
              <h3>${p.tên_sản_phẩm}</h3>
              <img src="${p.hình_ảnh}" alt="${p.tên_sản_phẩm}">
              <p>Giá: ${p.giá}đ</p>
              <p>${p.mô_tả}</p>
              <button onclick="order('${p.tên_sản_phẩm}', ${p.giá})">Đặt mua</button>
            </div>
          `;
        });
      });

    function order(name, price) {
      const tên_khách = prompt("Nhập tên:");
      const sdt = prompt("Nhập số điện thoại:");
      const số_lượng = parseInt(prompt("Nhập số lượng:"), 10);

      fetch(API_URL, {
        method: "POST",
        contentType: "application/json",
        body: JSON.stringify({
          tên_khách, sdt, sản_phẩm: name, số_lượng,
          tổng_tiền: price * số_lượng
        })
      }).then(() => alert("Đặt hàng thành công!"));
    }
  </script>
</body>
</html>
